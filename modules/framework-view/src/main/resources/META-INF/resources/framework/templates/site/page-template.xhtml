<!DOCTYPE html>
<!--
  ~ Copyright 2013, Rogue.IO
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:fc="http://xmlns.jcp.org/jsf/composite/framework/components"
      xmlns:rf="http://rogue.io/jsf/functions"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <f:facet name="first">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
        <link rel="shortcut icon" href="#{resource['framework:img/logo.png']}" type="image/png"/>
        <title>
            <ui:insert name="page.title">#{rf:property("site.name", "Rogue.IO")}</ui:insert>
        </title>
    </f:facet>
    <f:facet name="last">
        <h:outputStylesheet library="bootstrap" name="css/bootstrap.min.css"/>
        <h:outputStylesheet library="bootstrap" name="css/bootstrap-theme.min.css"/>
        <h:outputStylesheet library="framework" name="css/style.css"/>
        <f:verbatim>
            <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
            <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
            <![endif]-->
        </f:verbatim>
    </f:facet>
</h:head>

<h:body>
    <h:form id="__rootForm" enctype="#{formType != null ? formType : 'application/x-www-form-urlencoded'}">

        <!-- Fixed navbar -->
        <ui:insert name="page.navigation.bar">
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse"
                                data-target=".navbar-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <h:outputLink value="#{rf:property('site.url', '/')}" styleClass="navbar-brand">
                            #{rf:property("site.name", "Rogue.IO")}
                        </h:outputLink>
                    </div>
                    <div class="navbar-collapse collapse">
                        <ui:insert name="page.navigation.menus">
                        </ui:insert>
                        <p:ajaxStatus styleClass="pull-right" style="padding-top:10px;">
                            <f:facet name="start">
                                <h:graphicImage library="framework" name="img/loader.gif"/>
                            </f:facet>
                            <f:facet name="complete">
                                <h:graphicImage library="framework" name="img/t.png"/>
                            </f:facet>
                        </p:ajaxStatus>
                    </div>
                    <!--/.nav-collapse -->
                </div>
            </div>
        </ui:insert>

        <div class="container" style="margin-top:60px; min-height:500px">
            <ui:insert name="page.messages"><fc:messages globalOnly="true"/></ui:insert>
            <ui:insert name="page.content"/>
        </div>
        <div class="container" style="text-align: center;">
            <hr/>
            #{appProperty['site.copyright']}
        </div>


        <!-- Bootstrap core JavaScript
        ================================================== -->
        <h:outputScript library="primefaces" name="jquery/jquery.js" target="head"/>
        <h:outputScript library="bootstrap" name="js/bootstrap.min.js" target="head"/>
    </h:form>
</h:body>
</html>
